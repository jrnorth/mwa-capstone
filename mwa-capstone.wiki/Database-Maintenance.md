The database for this website is implemented with PostgreSQL on the Heroku instance and locally. The ORM layer is managed with SQLAlchemy, which ties the database elements to Python code. This allows users to treat tables like objects and columns like attributes, and speeds up simple query creation. Changes to the database are done with Alembic. This document seeks to educate the user about the basic mechanics behind the database.

The database schema is defined in a file in repository called `models.py`, located in the `app` directory. This file defines the "classes" which will become tables in the database, as well as their columns and relationships.

When this file is modified, the installation of Alembic can detect this modification and can automatically generate scripts to make the appropriate adjustments to the database. This can be done by running `python -m app.manage db migrate -m "Migration message"` where "Migration message" is replaced with an appropriate descriptor (similar to a commit message).

This command will generate a new "version" file stored in `migrations/versions`. The user can then review the script to make sure the SQLAlchemy Python syntax has correctly translated to PostgreSQL. If the script is correct, the script can be applied to the database by running `python -m app.manage db upgrade`

The steps above apply when one individual wishes to modify the schema and apply it to their database. In a multi-developer team, this can lead to confusing situations. Each version has a unique identifier. Alembic can track the history of the upgrades on a database by tracking these versions, each of which points to its parent. If one developer modifies the schema, and another developer modifies the schema in an alternate way, the history of the database will diverge into multiple branches. This can get confusing, as it can be impossible to apply new versions in the repository if their parents are not the same as the current version of the user's database.

The best solution for this is to communicate regarding database changes. Migrations should proceed linearly, and should avoid branching as described above. This way, one individual modifies the schema, performs the migration, performs the upgrade, and verifies its performance before pushing it to the repository. Then, other team members simply need to pull the new version and perform an upgrade.