{% block content %}
{% if observation_counts %}
	<script>
		$(function() {
			// Convert the Python lists passed to this template to JSON objects, so they can be used in JavaScript.
			var julian_days = {{ julian_days | tojson }};
			var observation_counts = {{ observation_counts | tojson }};

			$('#obs_histogram').highcharts({
				chart: {
					type: 'column'
				},
				plotOptions: {
					column: {
						// No padding between columns so the graph looks like a histogram.
						groupPadding: 0,
						pointPadding: 0
					}
				},
				title: {
					text: 'Observation Count'
				},
				xAxis: {
					categories: julian_days,
					title: {
						text: 'Julian Day'
					}
				},
				yAxis: {
					title: {
						text: 'Number of Observations'
					},
					min: 0,
					allowDecimals: false
				},
				series: [{
					name: 'Observations',
					data: observation_counts
				}]
			});
		});
	</script>
{% else %}
	<script>
		$(function() {
			// Make a chart with no data, which will be displayed as a chart with a "No data to display" message.
			$('#obs_histogram').highcharts({
				chart: {
					plotBackgroundColor: null,
					plotBorderWidth: null,
					plotShadow: false
				},
				title: {
					text: 'Observation Count'
				},
				series: [{
					data: []
				}]
			});
		});
	</script>
{% endif %}
{% endblock %}
